<% flash.each do |message_type, message| %>
    <%= message %>
<div class="container text-danger">
<% end %>
<div id="error_explanation">
<% if @book.errors.any? %>
    <h2><%= @book.errors.count %>errors occurred!</h2>
    <ul>
    <% @book.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
    </ul>
</div>


<% end %>
<div class="container">
<div class="row">
<div class ="col-xs-3">
	<%= render partial: 'users/info', locals: {user: @user} %>
	<%= render partial: 'books/form', locals: {book: @new_book} %>
</div>
            <div class="col-xs-9">
            <h2>Books</h2>
            <table class="table">
                  <thead>
                      <tr>
                      <th>image</th>
                      <th>name</th>
                      <th></th>
                      <th colspan="3"></th>
                      </tr>
                  </thead>
                  <tbody>
                  <% @books.each do |book| %>
                  <tr>
                    <td>
                    <%= link_to user_path(book.user_id) do %>
                      <%= attachment_image_tag book.user, :profile_image, :fill, 50, 50, format: 'jpeg', class: "profile-img", fallback: "no_image.jpg" %>
                    <% end %>
                    </td>      
                    <td>
                      <%= link_to book_path(book.id) do %>
                        <%= book.title %>
                      <% end %>
                    </td>
                    <td>
                      <p><%= book.body %></p>
                    </td>
                              
                  </tr>
                  <% end %>
                  </tbody>
            </table>
            </div>
  </div>
</div>